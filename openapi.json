{"openapi":"3.0.1","info":{"title":"Remittance API","description":"송금/계좌 관리 API 문서","version":"local"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"tags":[{"name":"계좌 관리","description":"계좌 생성/조회/수정/해지 API"},{"name":"회원 관리","description":"회원정보 등록, 수정, 삭제, 조회 API"},{"name":"입출금 이체 관리","description":"입금/출금/이체 관련 API"}],"paths":{"/api/member":{"get":{"tags":["회원 관리"],"summary":"회원 목록조회","description":"검색 조건과 페이징 정보로 회원 목록을 조회합니다.","operationId":"search","parameters":[{"name":"req","in":"query","required":true,"schema":{"$ref":"#/components/schemas/MemberDto.SearchReq"}}],"responses":{"200":{"description":"조회 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageDto.PageResponse"}}}}}},"put":{"tags":["회원 관리"],"summary":"회원 수정","description":"회원 정보를 수정합니다.","operationId":"update","parameters":[{"name":"X-USER-ID","in":"header","description":"수정자 ID","required":true,"schema":{"type":"string"},"example":"admin"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MemberDto.UpdateReq"}}},"required":true},"responses":{"200":{"description":"수정 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MemberDto.IdResponse"}}}}}},"post":{"tags":["회원 관리"],"summary":"회원 등록","description":"새로운 회원 정보를 등록합니다.","operationId":"create","parameters":[{"name":"X-USER-ID","in":"header","description":"등록자 ID","required":true,"schema":{"type":"string"},"example":"admin"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MemberDto.CreateReq"}}},"required":true},"responses":{"200":{"description":"등록 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MemberDto.IdResponse"}}}}}}},"/api/transfers":{"post":{"tags":["입출금 이체 관리"],"summary":"계좌간 이체","description":"출금 계좌에서 입금 계좌로 금액을 이체합니다. 이체 수수료 정책이 적용됩니다.","operationId":"transfer","parameters":[{"name":"X-USER-ID","in":"header","description":"요청자 ID","required":false,"schema":{"type":"string"},"example":"admin"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransferDto.TransferReq"}}},"required":true},"responses":{"200":{"description":"이체 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TransferDto.TransferRes"}}}}}}},"/api/transfers/withdraw":{"post":{"tags":["입출금 이체 관리"],"summary":"계좌 출금","description":"지정한 계좌에서 금액을 출금합니다. 출금 수수료 정책이 적용됩니다.","operationId":"withdraw","parameters":[{"name":"X-USER-ID","in":"header","description":"요청자 ID","required":false,"schema":{"type":"string"},"example":"admin"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransferDto.WithdrawReq"}}},"required":true},"responses":{"200":{"description":"출금 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TransferDto.TransferRes"}}}}}}},"/api/transfers/deposit":{"post":{"tags":["입출금 이체 관리"],"summary":"계좌 입금","description":"지정한 계좌로 금액을 입금합니다.","operationId":"deposit","parameters":[{"name":"X-USER-ID","in":"header","description":"요청자 ID","required":false,"schema":{"type":"string"},"example":"admin"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransferDto.DepositReq"}}},"required":true},"responses":{"200":{"description":"입금 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TransferDto.TransferRes"}}}}}}},"/api/accounts":{"get":{"tags":["계좌 관리"],"summary":"계좌 목록 조회(검색)","description":"회원명, 회원번호, 계좌번호, 계좌SEQ로 가변 검색합니다.","operationId":"searchAccounts","parameters":[{"name":"req","in":"query","required":true,"schema":{"$ref":"#/components/schemas/AccountDto.SearchReq"}},{"name":"X-MASKED","in":"header","description":"정보 마스크","required":false,"schema":{"type":"boolean","default":true},"example":true}],"responses":{"200":{"description":"조회 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Page"}}}}}},"post":{"tags":["계좌 관리"],"summary":"계좌 생성","description":"새 계좌를 생성합니다.","operationId":"create_1","parameters":[{"name":"X-USER-ID","in":"header","description":"등록자 ID","required":true,"schema":{"type":"string"},"example":"admin"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccountDto.CreateReq"}}},"required":true},"responses":{"200":{"description":"생성 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AccountDto.Res"}}}}}}},"/api/accounts/{seq}":{"patch":{"tags":["계좌 관리"],"summary":"계좌 정보 수정 (별칭/상태)","description":"계좌 별칭 및 상태를 수정합니다.","operationId":"patch","parameters":[{"name":"seq","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"X-USER-ID","in":"header","description":"수정자 ID","required":true,"schema":{"type":"string"},"example":"admin"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccountDto.PatchReq"}}},"required":true},"responses":{"200":{"description":"수정 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AccountDto.Res"}}}}}}},"/api/member/{memberSeq}":{"get":{"tags":["회원 관리"],"summary":"회원 상세조회","description":"회원 정보를 상세 조회합니다.","operationId":"get","parameters":[{"name":"memberSeq","in":"path","description":"회원 식별번호","required":true,"schema":{"type":"integer","format":"int64"},"example":10001},{"name":"X-MASKED","in":"header","description":"정보 마스크","required":false,"schema":{"type":"boolean","default":true},"example":true}],"responses":{"200":{"description":"조회 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MemberDto.Res"}}}}}},"delete":{"tags":["회원 관리"],"summary":"회원 삭제","description":"회원 정보를 논리적으로 삭제합니다. (상태=2)","operationId":"delete","parameters":[{"name":"memberSeq","in":"path","description":"회원 식별번호","required":true,"schema":{"type":"integer","format":"int64"},"example":10001},{"name":"X-USER-ID","in":"header","description":"삭제자 ID","required":true,"schema":{"type":"string"},"example":"admin"}],"responses":{"200":{"description":"삭제 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MemberDto.IdResponse"}}}}}}},"/api/accounts/{accountSeq}":{"get":{"tags":["계좌 관리"],"summary":"계좌 상세 조회","description":"계좌SEQ로 상세 정보를 조회합니다.","operationId":"getAccountDetail","parameters":[{"name":"accountSeq","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"조회 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AccountDto.SearchDetailRes"}}}}}},"delete":{"tags":["계좌 관리"],"summary":"계좌 해지","description":"계좌를 소프트 삭제(해지) 처리합니다.","operationId":"delete_1","parameters":[{"name":"accountSeq","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"X-USER-ID","in":"header","description":"삭제자 ID","required":true,"schema":{"type":"string"},"example":"admin"}],"responses":{"200":{"description":"해지 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AccountDto.IdResponse"}}}}}}}},"components":{"schemas":{"MemberDto.UpdateReq":{"required":["memberSeq"],"type":"object","properties":{"memberSeq":{"type":"integer","description":"회원 SEQ","format":"int64","example":1},"memberNm":{"type":"string","description":"회원 이름","example":"홍길동"},"memberPhone":{"type":"string","description":"회원 전화번호(평문, 서버에서 암호화/해시 처리)","example":"01098765432"},"memberStatus":{"type":"string","description":"회원 상태 (1: 정상, 2: 삭제 등)","example":"1","enum":["ACTIVE","DELETED"]},"privConsentYn":{"pattern":"Y|N","type":"string","description":"개인정보 수집/이용 동의 여부 (Y/N)","example":"Y"},"msgConsentYn":{"pattern":"Y|N","type":"string","description":"문자 수신 동의 여부 (Y/N)","example":"N"}},"description":"회원 수정 요청"},"MemberDto.IdResponse":{"type":"object","properties":{"memberSeq":{"type":"integer","description":"회원 SEQ","format":"int64","example":1}},"description":"회원 식별자 응답 DTO"},"TransferDto.TransferReq":{"required":["amount","clientId","fromAccountNumber","idempotencyKey","toAccountNumber"],"type":"object","properties":{"clientId":{"type":"string","description":"요청 채널 ID","example":"WEB","enum":["WEB","APP","BATCH","ATM","BANK"]},"idempotencyKey":{"type":"string","description":"멱등성 키 (같은 요청은 같은 키 사용)","example":"20251116-DEP-0001"},"fromAccountNumber":{"type":"string","description":"출금 계좌","example":"999-0000-000001"},"toAccountNumber":{"type":"string","description":"입금 계좌","example":"999-0000-000002"},"amount":{"type":"integer","description":"이체 금액","format":"int64","example":20000}},"description":"계좌간 이체 요청 DTO"},"TransferDto.TransferRes":{"type":"object","properties":{"transferSeq":{"type":"integer","description":"거래 SEQ","format":"int64","example":1},"fromAccountSeq":{"type":"integer","description":"출금 계좌 SEQ","format":"int64","example":1001},"toAccountSeq":{"type":"integer","description":"입금 계좌 SEQ","format":"int64","example":1002},"amount":{"type":"integer","description":"거래 금액 (상대 계좌에게 전달된 금액)","format":"int64","example":20000},"fee":{"type":"integer","description":"수수료 금액","format":"int64","example":100},"currency":{"type":"string","description":"통화","example":"KRW"},"status":{"type":"string","description":"거래 상태","example":"POSTED","enum":["PENDING","POSTED","FAILED","CANCELLED"]},"failCode":{"type":"string","description":"실패 코드 (실패 시)","example":"INSUFFICIENT_BALANCE","enum":["INSUFFICIENT_BALANCE","ACCOUNT_SUSPENDED","ACCOUNT_CLOSED","INVALID_ACCOUNT","LIMIT_EXCEEDED","ACCOUNT_STATUS_INVALID","SYSTEM_ERROR"]},"requestedDate":{"type":"string","description":"거래 요청 일시","format":"date-time"},"postedDate":{"type":"string","description":"거래 확정 일시 (POSTED 시점)","format":"date-time"}},"description":"거래 응답 DTO"},"TransferDto.WithdrawReq":{"required":["accountNumber","amount","clientId","idempotencyKey"],"type":"object","properties":{"clientId":{"type":"string","description":"요청 채널 ID","example":"WEB","enum":["WEB","APP","BATCH","ATM","BANK"]},"idempotencyKey":{"type":"string","description":"멱등성 키 (같은 요청은 같은 키 사용)","example":"20251116-DEP-0001"},"accountNumber":{"type":"string","description":"출금 대상 계좌","example":"999-0000-000001"},"amount":{"type":"integer","description":"출금 금액","format":"int64","example":50000}},"description":"출금 요청 DTO"},"TransferDto.DepositReq":{"required":["accountNumber","amount","clientId","idempotencyKey"],"type":"object","properties":{"clientId":{"type":"string","description":"요청 채널 ID","example":"WEB","enum":["WEB","APP","BATCH","ATM","BANK"]},"idempotencyKey":{"type":"string","description":"멱등성 키 (같은 요청은 같은 키 사용)","example":"20251116-DEP-0001"},"accountNumber":{"type":"string","description":"입금 대상 계좌","example":"999-0000-000001"},"amount":{"type":"integer","description":"입금 금액","format":"int64","example":100000}},"description":"입금 요청 DTO"},"MemberDto.CreateReq":{"required":["memberCi","memberDi","memberNm","memberPhone"],"type":"object","properties":{"memberNm":{"type":"string","description":"회원 이름","example":"홍길동"},"memberPhone":{"type":"string","description":"회원 전화번호(평문, 서버에서 암호화/해시 처리)","example":"01012345678"},"memberCi":{"type":"string","description":"CI(평문, 서버에서 암호화/해시 처리)"},"memberDi":{"type":"string","description":"DI(평문, 서버에서 암호화/해시 처리)"},"privConsentYn":{"pattern":"Y|N","type":"string","description":"개인정보 수집/이용 동의 여부 (Y/N)","example":"Y","default":"Y"},"msgConsentYn":{"pattern":"Y|N","type":"string","description":"문자 수신 동의 여부 (Y/N)","example":"Y","default":"Y"}},"description":"회원 생성 요청"},"AccountDto.CreateReq":{"required":["accountType","memberSeq","nickname"],"type":"object","properties":{"memberSeq":{"type":"integer","description":"회원 고유 식별자(FK)","format":"int64","example":1},"nickname":{"type":"string","description":"계좌 별칭(사용자 지정 이름)","example":"월급통장"},"accountType":{"type":"string","description":"계좌 종류: 1 일반, 2 월급통장, 3 한도통장","example":"1","enum":["NORMAL","SALARY","LIMIT"]},"bankCode":{"type":"string","description":"은행 코드(기본값 999)","example":"999"},"branchCode":{"type":"string","description":"지점 코드(기본값 001)","example":"001"},"feePolicySeq":{"type":"integer","description":"수수료 정책 식별자(기본값 1)","format":"int64","example":1,"default":1},"dailyTransferLimit":{"type":"integer","description":"1일 이체 한도(기본값 3,000,000원)","format":"int64","example":3000000},"dailyWithdrawLimit":{"type":"integer","description":"1일 출금 한도(기본값 1,000,000원)","format":"int64","example":1000000}},"description":"계좌 생성 요청 DTO"},"AccountDto.Res":{"type":"object","properties":{"accountSeq":{"type":"integer","description":"계좌 seq","format":"int64"},"accountNumber":{"type":"string","description":"계좌 번호"},"memberSeq":{"type":"integer","description":"회원 seq","format":"int64"},"nickname":{"type":"string","description":"계좌 별칭"},"balance":{"type":"integer","description":"잔액","format":"int64"},"accountStatus":{"type":"string","description":"계좌 상태: 1 정상, 2 해지","enum":["NORMAL","SUSPENDED","CLOSED"]},"createdDate":{"type":"string","description":"생성일시","format":"date-time"}},"description":"계좌 응답"},"AccountDto.PatchReq":{"type":"object","properties":{"nickname":{"type":"string","description":"계좌 별칭","example":"생활비통장"},"accountStatusCode":{"maximum":3,"minimum":1,"type":"integer","description":"계좌 상태: 1 정상, 2 정지, 3 해지","format":"int32","example":1}},"description":"계좌 수정 요청"},"MemberDto.SearchReq":{"type":"object","properties":{"page":{"minimum":0,"type":"integer","description":"페이지(0-base)","format":"int32","example":0,"default":0},"size":{"minimum":1,"type":"integer","description":"페이지 크기","format":"int32","example":20,"default":20},"sort":{"type":"array","description":"정렬: 속성,ASC|DESC","example":"member_seq,DESC","items":{"type":"string","description":"정렬: 속성,ASC|DESC","example":"member_seq,DESC"}},"memberNm":{"type":"string","description":"회원 이름 검색 키워드","example":"길동"},"memberPhone":{"type":"string","description":"회원 전화번호(평문, 서비스에서 hash 변환 후 검색)","example":"01012345678"},"memberCi":{"type":"string","description":"CI(평문, 서비스에서 hash 변환 후 검색)"},"memberDi":{"type":"string","description":"DI(평문, 서비스에서 hash 변환 후 검색)"},"memberStatus":{"type":"string","description":"회원 상태 (1: 정상, 2: 삭제 등)","example":"1","enum":["ACTIVE","DELETED"]},"privConsentYn":{"pattern":"Y|N","type":"string","description":"개인정보 수집/이용 동의 여부 (Y/N)","example":"Y"},"msgConsentYn":{"pattern":"Y|N","type":"string","description":"문자 수신 동의 여부 (Y/N)","example":"N"}},"description":"회원 검색 및 페이징 요청"},"PageDto.PageInfo":{"type":"object","properties":{"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"page":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"first":{"type":"boolean"},"last":{"type":"boolean"},"numberOfElements":{"type":"integer","format":"int32"},"empty":{"type":"boolean"}},"description":"공통 페이지 메타"},"PageDto.PageResponse":{"type":"object","properties":{"items":{"type":"array","items":{"type":"object"}},"page":{"$ref":"#/components/schemas/PageDto.PageInfo"}},"description":"공통 페이징 응답"},"MemberDto.Res":{"type":"object","properties":{"memberSeq":{"type":"integer","description":"회원 SEQ","format":"int64","example":1},"memberNm":{"type":"string","description":"회원 이름","example":"홍길동"},"memberPhone":{"type":"string","description":"회원 전화번호 (마스킹)","example":"010****5678"},"memberStatus":{"type":"string","description":"회원 상태 (1: 정상, 2: 삭제 등)","example":"1","enum":["ACTIVE","DELETED"]},"privConsentYn":{"type":"string","description":"개인정보 수집/이용 동의 여부 (Y/N)","example":"Y"},"msgConsentYn":{"type":"string","description":"문자 수신 동의 여부 (Y/N)","example":"N"}},"description":"회원 응답 DTO (마스킹 여부 선택 가능)"},"AccountDto.SearchReq":{"type":"object","properties":{"page":{"minimum":0,"type":"integer","description":"페이지(0-base)","format":"int32","example":0,"default":0},"size":{"minimum":1,"type":"integer","description":"페이지 크기","format":"int32","example":20,"default":20},"sort":{"type":"array","description":"정렬: 속성,ASC|DESC","example":"member_seq,DESC","items":{"type":"string","description":"정렬: 속성,ASC|DESC","example":"member_seq,DESC"}},"memberNm":{"type":"string","description":"회원명","example":"최정욱"},"memberSeq":{"type":"integer","description":"회원 seq","format":"int64","example":1},"accountNumber":{"type":"string","description":"계좌 번호","example":"1234567890123"},"accountSeq":{"type":"integer","description":"계좌 고유 식별자","format":"int64","example":1}},"description":"계좌 검색 요청 DTO"},"Page":{"type":"object","properties":{"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"type":"object"}},"number":{"type":"integer","format":"int32"},"sort":{"type":"array","items":{"$ref":"#/components/schemas/SortObject"}},"first":{"type":"boolean"},"last":{"type":"boolean"},"numberOfElements":{"type":"integer","format":"int32"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"empty":{"type":"boolean"}}},"PageableObject":{"type":"object","properties":{"offset":{"type":"integer","format":"int64"},"sort":{"type":"array","items":{"$ref":"#/components/schemas/SortObject"}},"paged":{"type":"boolean"},"pageSize":{"type":"integer","format":"int32"},"pageNumber":{"type":"integer","format":"int32"},"unpaged":{"type":"boolean"}}},"SortObject":{"type":"object","properties":{"direction":{"type":"string"},"nullHandling":{"type":"string"},"ascending":{"type":"boolean"},"property":{"type":"string"},"ignoreCase":{"type":"boolean"}}},"AccountDto.SearchDetailRes":{"type":"object","properties":{"accountSeq":{"type":"integer","description":"계좌 고유 식별자","format":"int64","example":1},"accountNumber":{"type":"string","description":"계좌 번호","example":"1234567890123"},"nickname":{"type":"string","description":"계좌 별칭","example":"월급통장"},"accountStatus":{"type":"string","description":"계좌 상태: 1 정상, 2 정지, 3 해지","example":"1","enum":["NORMAL","SUSPENDED","CLOSED"]},"accountType":{"type":"string","description":"계좌 종류: 1 일반, 2 월급통장, 3 한도통장","example":"1","enum":["NORMAL","SALARY","LIMIT"]},"bankCode":{"type":"string","description":"은행 코드","example":"999"},"branchCode":{"type":"string","description":"지점 코드","example":"001"},"createdDate":{"type":"string","description":"개설일","format":"date-time"},"memberNm":{"type":"string","description":"회원명","example":"최정욱"},"memberPhone":{"type":"string","description":"회원 전화번호","example":"01012345678"},"memberStatus":{"type":"string","description":"회원 상태","example":"1","enum":["ACTIVE","DELETED"]},"privConsentYn":{"type":"string","description":"개인정보 동의 여부(Y/N)","example":"Y"},"msgConsentYn":{"type":"string","description":"알림 메시지 수신 동의 여부(Y/N)","example":"Y"},"balance":{"type":"integer","description":"현재 잔액","format":"int64","example":500000},"policyName":{"type":"string","description":"수수료 정책명","example":"기본수수료정책"},"transferFeeRate":{"type":"number","description":"이체 수수료율","example":0.001},"withdrawFeeRate":{"type":"number","description":"출금 수수료율","example":0.001}},"description":"계좌 검색 응답 - 상세"},"AccountDto.IdResponse":{"type":"object","properties":{"accountSeq":{"type":"integer","description":"계좌 SEQ","format":"int64","example":1}},"description":"계좌 식별자 응답 DTO"}}}}